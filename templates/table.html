<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title>简单通用表格 - 表格 - 统一开发平台 - UI库</title>
    <meta name="description" content="Restyling jQuery UI Widgets and Elements" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <link rel="stylesheet" href="static/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="static/assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="static/assets/css/ace-fonts.css" />
    <link rel="stylesheet" href="static/assets/css/ace.min.css" id="main-ace-style" />
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="static/assets/css/ace-part2.min.css" />
    <![endif]-->
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="static/assets/css/ace-ie.min.css" />
    <![endif]-->
    <script src="static/assets/js/ace-extra.min.js"></script>
    <!--[if lte IE 8]>
    <script src="static/assets/js/html5shiv.min.js"></script>
    <script src="static/assets/js/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
        .CSSearchTbl{ border:1px #008CD4 solid;}
        .CSSearchTbl thead{}
        .CSSearchTbl thead tr{}
        .CSSearchTbl thead tr th{  text-align:left; padding-left:10px;}
        .CSSearchTbl tbody{}
        .CSSearchTbl tbody tr{}
        .CSSearchTbl tbody tr td{  padding: 10px;}
        .CSSearchTbl tbody tr td.right{ text-align: left;}
        .CSSearchTbl tbody tr td.left{ text-align: right;}
        .table-responsive{ display: none;}
    </style>
</head>

<body class="no-skin">
<!-- #section:basics/navbar.layout -->
<div id="navbar" class="navbar navbar-default">

</div>

<!-- /section:basics/navbar.layout -->
<div class="main-container" id="main-container">

    <!-- #section:basics/sidebar -->



    <!-- /section:basics/sidebar -->
    <div class="main-content">
        <div class="breadcrumbs" id="breadcrumbs">
            <ul class="breadcrumb">

                <li>
                    <a href="javascript:void(0)">餐厅信息网站</a>
                </li>

            </ul><!-- /.breadcrumb -->

            <!-- #section:basics/content.searchbox -->
        </div>
        <script>
            function addTable() {


            }
        </script>
        <div class="page-content">

            <!-- /section:settings.box -->
            <div class="page-content-area">

                <div class="row">
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-12">
                            </div><!-- /.span -->
                        </div><!-- /.row -->

                        <div class="hr hr-18 dotted hr-double"></div>

                        <h4 class="pink">

                            <div class="nav-search" id="nav-search">
                                <form class="form-search">
										<span class="input-icon">
											<input type="text" id="search" placeholder="请输入餐厅名字" class="nav-search-input" id="nav-search-input" autocomplete="off" />
											<i class="ace-icon fa fa-search nav-search-icon"></i>
										</span>
                                </form>
                            </div><!-- /.nav-search -->

                            <i class="ace-icon fa fa-hand-o-right icon-animated-hand-pointer blue"></i>
                            <a href="#modal-table" role="button" class="blue" onclick="form2();" data-toggle="modal">点击弹出层表格</a>
                        </h4>

                        <div class="hr hr-18 dotted hr-double"></div>

                        <div class="row">
                            <div class="col-xs-12">

                                <div class="table-header">
                                    餐厅检索
                                </div>

                                <table width="100%" class="CSSearchTbl" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td class="left">餐厅类型：</td>
                                        <td class="right">
                                            <select id="type">
                                                <option>American</option>
                                                <option>Seafood</option>
                                                <option>Italian</option>
                                                <option>Asian</option>
                                                <option>French</option>
                                                <option>Mexican</option>
                                                <option>Chinese</option>
                                                <option>Japanese</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="left">排序依据：</td>
                                        <td class="right">
                                            <select id="sort">
                                                <option>average_review</option>
                                                <option>food_review</option>
                                                <option>service_review</option>
                                                <option>ambience_review</option>
                                                <option>value_review</option>
                                            </select>
                                        </td>
                                    </tr>

                                </table>
                                <table width="100%" class="CSSearchTb1" cellpadding="0" cellspacing="0">
                                    <button class="btn btn-primary pull-left col-sm-12 tbl-search"  data-dismiss="modal">
                                        开始搜索
                                        <i class="ace-icon fa fa-search"></i>
                                    </button>
                                </table>


                                <div class="table-responsive">

                                    <table id="pstable" class="table table-striped table-bordered table-hover">
                                        <thead>
                                        <tr>
                                            <th class="center">
                                                <label class="position-relative">
                                                    <input type="checkbox" class="ace" />
                                                    <span class="lbl"></span>
                                                </label>
                                            </th>
                                            <th>餐厅名字</th>
                                            <th>餐厅类型</th>
                                            <th class="hidden-480">接道信息</th>
                                            <th>

                                                餐厅简介
                                            </th>
                                            <th class="hidden-480">
                                                <i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
                                                餐厅电话号码</th>
                                            <th class="hidden-480">评分</th>
                                        </tr>
                                        </thead>

                                        <tbody>


                                        {% for ps in data %}
                                        <tr>
                                            <td class="center">
                                                <label class="position-relative">
                                                    <input type="checkbox" class="ace" />
                                                    <span class="lbl"></span>
                                                </label>
                                            </td>

                                            <td >
                                                <a  href={{ps.web}}>{{ ps.name }}{{ ps.name }}</a>
                                            </td>
                                            <td >{{ps.type}}</td>
                                            <td  class="hidden-480">{{ps.add}}</td>
                                            <td >{{ps.info}}</td>

                                            <td  class="hidden-480">
                                                <span class="label label-sm label-warning">{{ps.phone}}</span>
                                            </td>
                                            <td>
                                                {{ps.star}}
                                            </td>
                                        </tr>
                                        {% endfor %}



                                        </tbody>
                                    </table>

                                    <div class="modal-footer no-margin-top">

                                        <ul class="pagination pull-right no-margin">
                                            <li class="prev disabled">
                                                <a href="#">
                                                    <i class="ace-icon fa fa-angle-double-left"></i>
                                                </a>
                                            </li>

                                            <li class="active">
                                                <a href="#">1</a>
                                            </li>

                                            <li>
                                                <a href="#">2</a>
                                            </li>

                                            <li>
                                                <a href="#">3</a>
                                            </li>

                                            <li class="next">
                                                <a href="#">
                                                    <i class="ace-icon fa fa-angle-double-right"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="modal-table" class="modal fade" tabindex="-1">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header no-padding">
                                        <div class="table-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                                <span class="white">&times;</span>
                                            </button>
                                            餐厅查询系统
                                        </div>
                                    </div>

                                    <div class="modal-body no-padding">
                                        <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top">
                                            <thead>
                                            <tr>
                                                <th>餐厅名字</th>
                                                <th>餐厅类型</th>
                                                <th>街道信息</th>

                                                <th>
                                                    <i class="ace-icon fa fa-clock-o bigger-110"></i>
                                                    电话号码
                                                </th>
                                            </tr>
                                            </thead>

                                            <tbody>
                                            <tr>
                                                <td>
                                                    <a href={{resultWEB}}>{{resultNAME}}</a>
                                                </td>
                                                <td>{{resultTYPE}}</td>
                                                <td>{{resultLOC}}</td>
                                                <td>{{resultTEL}}</td>
                                            </tr>

                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="modal-footer no-margin-top">
                                        <button class="btn btn-sm btn-danger pull-left" data-dismiss="modal">
                                            <i class="ace-icon fa fa-times"></i>
                                            close
                                        </button>

                                        <ul class="pagination pull-right no-margin">
                                            <li class="prev disabled">
                                                <a href="#">
                                                    <i class="ace-icon fa fa-angle-double-left"></i>
                                                </a>
                                            </li>

                                            <li class="active">
                                                <a href="#">1</a>
                                            </li>

                                            <li>
                                                <a href="#">2</a>
                                            </li>

                                            <li>
                                                <a href="#">3</a>
                                            </li>

                                            <li class="next">
                                                <a href="#">
                                                    <i class="ace-icon fa fa-angle-double-right"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div><!-- /.modal-content -->
                            </div><!-- /.modal-dialog -->
                        </div><!-- PAGE CONTENT ENDS -->
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.page-content-area -->
        </div><!-- /.page-content -->
    </div><!-- /.main-content -->

    <div class="footer">
        <div class="footer-inner">
            <!-- #section:basics/footer -->
            <div class="footer-content">
						<span class="bigger-120">
							 餐厅信息检索
						</span>
            </div>

            <!-- /section:basics/footer -->
        </div>
    </div>

    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
    </a>
</div><!-- /.main-container -->

<!-- basic scripts -->

<!--[if !IE]> -->
<script type="text/javascript">
    window.jQuery || document.write("<script src='static/assets/js/jquery.min.js'>"+"<"+"/script>");
</script>

<!-- <![endif]-->
{#<script type="text/javascript">#}
{#    function form1() {#}
{#        var xhr = new XMLHttpRequest();#}
{#        var form = new FormData();#}
{#        var Restuarant_type = document.getElementById("type").value;#}
{#        var Restuarant_sort = document.getElementById("sort").value;#}
{#        form.append('type', Restuarant_type);#}
{#        form.append('sort', Restuarant_sort);#}
{#        xhr.open('post', '/test');#}
{#        xhr.send(form);#}
{##}
{#    }#}
{#    function form2() {#}
{#        var xhr = new XMLHttpRequest();#}
{#        var form = new FormData();#}
{#        var searchTEXT = document.getElementById("search");#}
{#        if(searchTEXT.value != "")#}
{#        {#}
{#            form.append('searchTEXT', searchTEXT);#}
{#            xhr.open('post', '/test');#}
{#            xhr.send(form);#}
{#        }#}
{#        else{#}
{#            alert("input cannot be null");#}
{#        }#}
{#    }#}
{##}
{#</script>#}



<!--[if IE]>
<script type="text/javascript">
    window.jQuery || document.write("<script src='static/assets/js/jquery1x.min.js'>"+"<"+"/script>");
</script>
<![endif]-->
<script type="text/javascript">
    if('ontouchstart' in document.documentElement) document.write("<script src='static/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
</script>
<script src="static/assets/js/bootstrap.min.js"></script>

<script src="static/assets/js/jquery.dataTables.min.js"></script>
<script src="static/assets/js/jquery.dataTables.bootstrap.js"></script>

<!-- ace scripts -->
<script src="static/assets/js/ace-elements.min.js"></script>
<script src="static/assets/js/ace.min.js"></script>

<script type="text/javascript">

    jQuery(function($) {

        $(".tbl-search").click(function(){
            var Restuarant_type = document.getElementById("type").value;
            var Restuarant_sort = document.getElementById("sort").value;
            $.post("/maintable", {'Restuarant_type': Restuarant_type,'Restuarant_sort':Restuarant_sort},     //post函数到后端
                function (data, status) {              //回调函数
                    $("#pstable").html(data);

                });
            $(".table-responsive").slideDown("slow");
        });

        var oTable1 =
            $('#sample-table-2')
                .dataTable( {
                    bAutoWidth: false,
                    bInfo:flase,
                    "aoColumns": [
                        { "bSortable": false },
                        null,
                        null,
                        null,
                        null,
                        null,
                        { "bSortable": false },
                        null,
                        { "bSortable": false }
                    ],
                    "aaSorting": [],
                } );

        $(document).on('click', 'th input:checkbox' , function(){
            var that = this;
            $(this).closest('table').find('tr > td:first-child input:checkbox')
                .each(function(){
                    this.checked = that.checked;
                    $(this).closest('tr').toggleClass('selected');
                });
        });
    })

</script>
</body>
</html>
